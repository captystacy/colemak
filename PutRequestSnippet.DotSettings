<wpf:ResourceDictionary xml:space="preserve" xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" xmlns:s="clr-namespace:System;assembly=mscorlib" xmlns:ss="urn:shemas-jetbrains-com:settings-storage-xaml" xmlns:wpf="http://schemas.microsoft.com/winfx/2006/xaml/presentation">
	<s:Boolean x:Key="/Default/PatternsAndTemplates/LiveTemplates/Template/=833B9E579491004EB815F95AC3C86AA0/@KeyIndexDefined">True</s:Boolean>
	<s:String x:Key="/Default/PatternsAndTemplates/LiveTemplates/Template/=833B9E579491004EB815F95AC3C86AA0/Shortcut/@EntryValue">put-request</s:String>
	<s:String x:Key="/Default/PatternsAndTemplates/LiveTemplates/Template/=833B9E579491004EB815F95AC3C86AA0/Text/@EntryValue">public record Put$ENTITY$Request(Guid Id, $ENTITY$UpdateViewModel ViewModel) : IRequest&lt;OperationResult&lt;$ENTITY$ViewModel&gt;&gt;;&#xD;
&#xD;
public class Put$ENTITY$RequestHandler : IRequestHandler&lt;Put$ENTITY$Request, OperationResult&lt;$ENTITY$ViewModel&gt;&gt;&#xD;
{&#xD;
    private readonly IMapper _mapper;&#xD;
    private readonly IUnitOfWork _unitOfWork;&#xD;
&#xD;
    public Put$ENTITY$RequestHandler(IMapper mapper, IUnitOfWork unitOfWork)&#xD;
    {&#xD;
        _mapper = mapper;&#xD;
        _unitOfWork = unitOfWork;&#xD;
    }&#xD;
&#xD;
    public async Task&lt;OperationResult&lt;$ENTITY$ViewModel&gt;&gt; Handle(Put$ENTITY$Request request, CancellationToken cancellationToken)&#xD;
    {&#xD;
        var operation = OperationResult.CreateResult&lt;$ENTITY$ViewModel&gt;();&#xD;
&#xD;
        var repository = _unitOfWork.GetRepository&lt;$ENTITY$&gt;();&#xD;
        var entity = await repository.GetFirstOrDefaultAsync(predicate: x =&gt; x.Id == request.Id, disableTracking: false);&#xD;
&#xD;
        if (entity is null)&#xD;
        {&#xD;
            operation.AddError(new MicroserviceNotFoundException());&#xD;
            return operation;&#xD;
        }&#xD;
&#xD;
        _mapper.Map(request.ViewModel, entity);&#xD;
&#xD;
        repository.Update(entity);&#xD;
&#xD;
        await _unitOfWork.SaveChangesAsync();&#xD;
&#xD;
        if (!_unitOfWork.LastSaveChangesResult.IsOk)&#xD;
        {&#xD;
            operation.AddError(new MicroserviceSaveChangesException());&#xD;
            return operation;&#xD;
        }&#xD;
&#xD;
        operation.Result = _mapper.Map&lt;$ENTITY$ViewModel&gt;(entity);&#xD;
        return operation;&#xD;
    }&#xD;
}</s:String>
	<s:Boolean x:Key="/Default/PatternsAndTemplates/LiveTemplates/Template/=833B9E579491004EB815F95AC3C86AA0/Reformat/@EntryValue">True</s:Boolean>
	<s:Boolean x:Key="/Default/PatternsAndTemplates/LiveTemplates/Template/=833B9E579491004EB815F95AC3C86AA0/ShortenQualifiedReferences/@EntryValue">True</s:Boolean>
	<s:Boolean x:Key="/Default/PatternsAndTemplates/LiveTemplates/Template/=833B9E579491004EB815F95AC3C86AA0/Applicability/=Live/@EntryIndexedValue">True</s:Boolean>
	<s:Boolean x:Key="/Default/PatternsAndTemplates/LiveTemplates/Template/=833B9E579491004EB815F95AC3C86AA0/Scope/=B68999B9D6B43E47A02B22C12A54C3CC/@KeyIndexDefined">True</s:Boolean>
	<s:String x:Key="/Default/PatternsAndTemplates/LiveTemplates/Template/=833B9E579491004EB815F95AC3C86AA0/Scope/=B68999B9D6B43E47A02B22C12A54C3CC/Type/@EntryValue">InCSharpTypeMember</s:String>
	<s:String x:Key="/Default/PatternsAndTemplates/LiveTemplates/Template/=833B9E579491004EB815F95AC3C86AA0/Scope/=B68999B9D6B43E47A02B22C12A54C3CC/CustomProperties/=minimumLanguageVersion/@EntryIndexedValue">2.0</s:String>
	<s:Boolean x:Key="/Default/PatternsAndTemplates/LiveTemplates/Template/=833B9E579491004EB815F95AC3C86AA0/Scope/=558F05AA0DE96347816FF785232CFB2A/@KeyIndexDefined">True</s:Boolean>
	<s:String x:Key="/Default/PatternsAndTemplates/LiveTemplates/Template/=833B9E579491004EB815F95AC3C86AA0/Scope/=558F05AA0DE96347816FF785232CFB2A/Type/@EntryValue">InCSharpTypeAndNamespace</s:String>
	<s:String x:Key="/Default/PatternsAndTemplates/LiveTemplates/Template/=833B9E579491004EB815F95AC3C86AA0/Scope/=558F05AA0DE96347816FF785232CFB2A/CustomProperties/=minimumLanguageVersion/@EntryIndexedValue">2.0</s:String>
	<s:Boolean x:Key="/Default/PatternsAndTemplates/LiveTemplates/Template/=833B9E579491004EB815F95AC3C86AA0/Field/=ENTITY/@KeyIndexDefined">True</s:Boolean>
	<s:Int64 x:Key="/Default/PatternsAndTemplates/LiveTemplates/Template/=833B9E579491004EB815F95AC3C86AA0/Field/=ENTITY/Order/@EntryValue">0</s:Int64></wpf:ResourceDictionary>